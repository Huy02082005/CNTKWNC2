<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Qu·∫£n L√Ω T√†i Kho·∫£n Admin - Admin Dashboard</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/admin.css">
</head>
<body>
  <div class="sidebar">
    <div class="sidebar-header">
      <h2>Admin Dashboard</h2>
      <p>Qu·∫£n tr·ªã h·ªá th·ªëng</p>
    </div>
    
    <div class="sidebar-menu">
      <ul>
        <li><a href="dashboard.html"><i class="fas fa-home"></i> <span>Dashboard</span></a></li>
        <li><a href="user.html"><i class="fas fa-users"></i> <span>Qu·∫£n l√Ω ng∆∞·ªùi d√πng</span></a></li>
        <li><a href="orders.html"><i class="fas fa-shopping-cart"></i> <span>ƒê∆°n h√†ng</span></a></li>
        <li><a href="products.html"><i class="fas fa-box"></i> <span>S·∫£n ph·∫©m</span></a></li>
        <li class="active"><a href="admin.html"><i class="fas fa-user-shield"></i> <span>Qu·∫£n l√Ω admin</span></a></li>
        <li><a href="settings.html"><i class="fas fa-cog"></i> <span>C√†i ƒë·∫∑t</span></a></li>
        <li><a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i> <span>ƒêƒÉng xu·∫•t</span></a></li>
      </ul>
    </div>
  </div>
  
  <!-- Main Content -->
  <div class="main-content">
    <div class="header">
      <h1>Qu·∫£n L√Ω T√†i Kho·∫£n Admin</h1>
      <div class="user-info">
        <img src="https://i.pravatar.cc/150?img=12" alt="Admin Avatar">
        <div>
          <h3 id="adminName">Nguy·ªÖn ƒê·ª©c Huy</h3>
          <p>Qu·∫£n tr·ªã vi√™n</p>
        </div>
      </div>
    </div>
    
    <!-- Action Buttons -->
    <div class="action-bar">
      <button class="btn btn-primary" onclick="showAddAdminModal()">
        <i class="fas fa-plus"></i> Th√™m Admin M·ªõi
      </button>
      <div class="search-box">
        <input type="text" id="searchInput" placeholder="T√¨m ki·∫øm theo t√™n, email...">
        <button class="btn btn-outline" onclick="searchAdmins()">
          <i class="fas fa-search"></i>
        </button>
      </div>
    </div>
    
    <!-- Stats Cards -->
    <div class="stats-cards">
      <div class="card">
        <div class="stat-card">
          <div class="stat-info">
            <h3>T·ªïng Admin</h3>
            <h2 id="totalAdmins">0</h2>
            <p id="adminChange"><i class="fas fa-arrow-up text-success"></i> 0% so v·ªõi th√°ng tr∆∞·ªõc</p>
          </div>
          <div class="stat-icon bg-primary">
            <i class="fas fa-user-shield"></i>
          </div>
        </div>
      </div>
      
      <div class="card">
        <div class="stat-card">
          <div class="stat-info">
            <h3>Admin ƒêang Ho·∫°t ƒê·ªông</h3>
            <h2 id="activeAdmins">0</h2>
            <p id="activeChange"><i class="fas fa-arrow-up text-success"></i> 0% so v·ªõi th√°ng tr∆∞·ªõc</p>
          </div>
          <div class="stat-icon bg-success">
            <i class="fas fa-user-check"></i>
          </div>
        </div>
      </div>
      
      <div class="card">
        <div class="stat-card">
          <div class="stat-info">
            <h3>Super Admin</h3>
            <h2 id="superAdmins">0</h2>
            <p id="superChange"><i class="fas fa-minus text-secondary"></i> Kh√¥ng thay ƒë·ªïi</p>
          </div>
          <div class="stat-icon bg-warning">
            <i class="fas fa-crown"></i>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Admin Accounts Table -->
    <div class="table-container">
      <div class="table-header">
        <h2>Danh S√°ch T√†i Kho·∫£n Admin</h2>
        <div class="table-actions">
          <select id="statusFilter" onchange="filterAdmins()">
            <option value="all">T·∫•t c·∫£ tr·∫°ng th√°i</option>
            <option value="active">ƒêang ho·∫°t ƒë·ªông</option>
            <option value="inactive">ƒê√£ kh√≥a</option>
          </select>
          <button class="btn btn-outline" onclick="refreshAdmins()">
            <i class="fas fa-sync-alt"></i> L√†m m·ªõi
          </button>
        </div>
      </div>
      
      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>T√™n ƒëƒÉng nh·∫≠p</th>
            <th>H·ªç t√™n</th>
            <th>Email</th>
            <th>ƒêi·ªán tho·∫°i</th>
            <th>Ng√†y t·∫°o</th>
            <th>ƒêƒÉng nh·∫≠p g·∫ßn nh·∫•t</th>
            <th>Quy·ªÅn</th>
            <th>Tr·∫°ng th√°i</th>
            <th>Thao t√°c</th>
          </tr>
        </thead>
        <tbody id="adminsTableBody">
          <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c t·∫£i b·∫±ng JavaScript -->
          <tr>
            <td colspan="10" style="text-align: center;">ƒêang t·∫£i d·ªØ li·ªáu...</td>
          </tr>
        </tbody>
      </table>
      
      <!-- Pagination -->
      <div class="pagination" id="pagination">
        <!-- Pagination s·∫Ω ƒë∆∞·ª£c t·∫°o b·∫±ng JavaScript -->
      </div>
    </div>
  </div>

  <!-- Modal Th√™m/S·ª≠a Admin -->
  <div id="adminModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="modalTitle">Th√™m Admin M·ªõi</h2>
        <span class="close" onclick="closeAdminModal()">&times;</span>
      </div>
      <div class="modal-body">
        <form id="adminForm" onsubmit="saveAdmin(event)">
          <input type="hidden" id="adminId" value="">
          
          <div class="form-group">
            <label for="username">T√™n ƒëƒÉng nh·∫≠p *</label>
            <input type="text" id="username" required>
          </div>
          
          <div class="form-group">
            <label for="password">M·∫≠t kh·∫©u *</label>
            <input type="password" id="password" required>
          </div>
          
          <div class="form-group">
            <label for="confirmPassword">X√°c nh·∫≠n m·∫≠t kh·∫©u *</label>
            <input type="password" id="confirmPassword" required>
          </div>
          
          <div class="form-group">
            <label for="fullName">H·ªç v√† t√™n</label>
            <input type="text" id="fullName">
          </div>
          
          <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email">
          </div>
          
          <div class="form-group">
            <label for="phone">S·ªë ƒëi·ªán tho·∫°i</label>
            <input type="text" id="phone">
          </div>
          
          <div class="form-group">
            <label for="isSuperAdmin">Quy·ªÅn</label>
            <select id="isSuperAdmin">
              <option value="false">Admin</option>
              <option value="true">Super Admin</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="status">Tr·∫°ng th√°i</label>
            <select id="status">
              <option value="true">Ho·∫°t ƒë·ªông</option>
              <option value="false">Kh√≥a</option>
            </select>
          </div>
          
          <div class="form-actions">
            <button type="button" class="btn btn-outline" onclick="closeAdminModal()">H·ªßy</button>
            <button type="submit" class="btn btn-primary">L∆∞u</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Modal X√°c nh·∫≠n x√≥a -->
  <div id="confirmModal" class="modal">
    <div class="modal-content confirm-modal">
      <div class="modal-header">
        <h2>X√°c nh·∫≠n x√≥a</h2>
      </div>
      <div class="modal-body">
        <p>B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a t√†i kho·∫£n admin n√†y?</p>
        <p class="text-danger">H√†nh ƒë·ªông n√†y kh√¥ng th·ªÉ ho√†n t√°c!</p>
      </div>
      <div class="modal-footer">
        <button class="btn btn-outline" onclick="closeConfirmModal()">H·ªßy</button>
        <button class="btn btn-danger" id="confirmDeleteBtn">X√≥a</button>
      </div>
    </div>
  </div>

  <script>
let currentPage = 1;
const itemsPerPage = 10;
let allAdmins = [];
let filteredAdmins = [];
let adminToDelete = null;

// Ki·ªÉm tra ƒëƒÉng nh·∫≠p v√† quy·ªÅn admin - S·ª¨A HO√ÄN TO√ÄN
document.addEventListener('DOMContentLoaded', async function() {
    await checkAuthAndPermission();
});

async function checkAuthAndPermission() {
    try {
        // 1. Ki·ªÉm tra auth b·∫±ng cookies
        const authResponse = await fetch('/api/auth/check', {
            credentials: 'include' // QUAN TR·ªåNG: g·ª≠i cookies
        });
        
        if (!authResponse.ok) {
            window.location.href = "/login.html";
            return;
        }
        
        const authData = await authResponse.json();
        console.log("üîç Auth check:", authData);
        
        if (!authData.authenticated) {
            alert("Vui l√≤ng ƒëƒÉng nh·∫≠p!");
            window.location.href = "/login.html";
            return;
        }
        
        const user = authData.user;
        
        // 2. Ki·ªÉm tra Super Admin
        if (!user.isSuperAdmin) {
            alert("‚ùå CH·ªà SUPER ADMIN M·ªöI ƒê∆Ø·ª¢C TRUY C·∫¨P TRANG N√ÄY!");
            window.location.href = "/dashboard.html";
            return;
        }
        
        console.log("‚úÖ Super Admin verified:", user.username);
        
        // 3. Hi·ªÉn th·ªã th√¥ng tin user
        document.getElementById('adminName').textContent = user.username;
        document.querySelector('.user-info p').textContent = "üëë Super Admin";
        
        // 4. T·∫£i d·ªØ li·ªáu
        await loadAdmins(user.id);
        await loadAdminStats();
        
        // 5. Setup menu
        setupMenuActive();
        
    } catch (error) {
        console.error('‚ùå L·ªói ki·ªÉm tra auth:', error);
        alert("L·ªói x√°c th·ª±c! Vui l√≤ng ƒëƒÉng nh·∫≠p l·∫°i.");
        window.location.href = "/login.html";
    }
}

// H√†m ƒëƒÉng xu·∫•t - S·ª¨A
async function logout() {
    try {
        await fetch('/api/auth/logout', {
            method: 'POST',
            credentials: 'include'
        });
        window.location.href = "/login.html";
    } catch (error) {
        console.error('Logout error:', error);
        window.location.href = "/login.html";
    }
}

// X·ª≠ l√Ω menu active - GI·ªÆ NGUY√äN
function setupMenuActive() {
    const menuItems = document.querySelectorAll('.sidebar-menu li');
    menuItems.forEach(item => {
        item.addEventListener('click', function() {
            menuItems.forEach(i => i.classList.remove('active'));
            this.classList.add('active');
        });
    });
}

// H√†m t·∫£i danh s√°ch admin - S·ª¨A
async function loadAdmins() {
    try {
        const response = await fetch('/api/admin', {
            credentials: 'include' // G·ª≠i cookies
        });
        
        console.log("üìä Admin API status:", response.status);
        
        if (response.status === 403) {
            alert("B·∫°n kh√¥ng c√≥ quy·ªÅn truy c·∫≠p!");
            window.location.href = "/dashboard.html";
            return;
        }
        
        if (!response.ok) {
            throw new Error('L·ªói API: ' + response.status);
        }
        
        allAdmins = await response.json();
        console.log("üë• Admins nh·∫≠n ƒë∆∞·ª£c:", allAdmins.length);
        
        filteredAdmins = [...allAdmins];
        renderAdminsTable();
        
    } catch (error) {
        console.error('‚ùå L·ªói khi t·∫£i danh s√°ch admin:', error);
        document.getElementById('adminsTableBody').innerHTML = `
            <tr>
                <td colspan="10" style="text-align: center; color: red;">
                    L·ªói t·∫£i d·ªØ li·ªáu: ${error.message}<br>
                    <button onclick="location.reload()" class="btn btn-outline">
                        Th·ª≠ l·∫°i
                    </button>
                </td>
            </tr>
        `;
    }
}

// H√†m t·∫£i th·ªëng k√™ admin - S·ª¨A
async function loadAdminStats() {
    try {
        const response = await fetch('/api/admin/stats', {
            credentials: 'include' // G·ª≠i cookies
        });
        
        if (!response.ok) throw new Error('L·ªói khi t·∫£i th·ªëng k√™');
        
        const stats = await response.json();
        console.log("üìä Stats nh·∫≠n ƒë∆∞·ª£c:", stats);
        
        updateStatsUI(stats);
        
    } catch (error) {
        console.error('‚ùå L·ªói khi t·∫£i th·ªëng k√™:', error);
        showFallbackStats();
    }
}

// C·∫≠p nh·∫≠t UI v·ªõi d·ªØ li·ªáu th·ªëng k√™ - GI·ªÆ NGUY√äN
function updateStatsUI(stats) {
    document.getElementById('totalAdmins').textContent = stats.totalAdmins || '0';
    document.getElementById('activeAdmins').textContent = stats.activeAdmins || '0';
    document.getElementById('superAdmins').textContent = stats.superAdmins || '0';
}

// Hi·ªÉn th·ªã d·ªØ li·ªáu m·∫´u khi API l·ªói - GI·ªÆ NGUY√äN
function showFallbackStats() {
    document.getElementById('totalAdmins').textContent = '0';
    document.getElementById('activeAdmins').textContent = '0';
    document.getElementById('superAdmins').textContent = '0';
}

// Render b·∫£ng admin v·ªõi ph√¢n trang - GI·ªÆ NGUY√äN
function renderAdminsTable() {
    const tbody = document.getElementById('adminsTableBody');
    const startIndex = (currentPage - 1) * itemsPerPage;
    const endIndex = startIndex + itemsPerPage;
    const pageAdmins = filteredAdmins.slice(startIndex, endIndex);
    
    if (pageAdmins.length === 0) {
        tbody.innerHTML = '<tr><td colspan="10" style="text-align: center;">Kh√¥ng c√≥ d·ªØ li·ªáu</td></tr>';
        renderPagination();
        return;
    }
    
    tbody.innerHTML = '';
    
    pageAdmins.forEach(admin => {
        const row = document.createElement('tr');
        
        row.innerHTML = `
            <td>${admin.AccountID}</td>
            <td>${admin.Username}</td>
            <td>${admin.FullName || 'Ch∆∞a c·∫≠p nh·∫≠t'}</td>
            <td>${admin.Email || 'Ch∆∞a c·∫≠p nh·∫≠t'}</td>
            <td>${admin.Phone || 'Ch∆∞a c·∫≠p nh·∫≠t'}</td>
            <td>${formatDate(admin.CreateDate)}</td>
            <td>${admin.LastLogin ? formatDate(admin.LastLogin) : 'Ch∆∞a ƒëƒÉng nh·∫≠p'}</td>
            <td><span class="status ${admin.IsSuperAdmin ? 'warning' : ''}">${admin.IsSuperAdmin ? 'Super Admin' : 'Admin'}</span></td>
            <td><span class="status ${admin.Status ? 'active' : 'pending'}">${admin.Status ? 'Ho·∫°t ƒë·ªông' : 'ƒê√£ kh√≥a'}</span></td>
            <td>
                <button class="btn btn-outline" onclick="editAdmin(${admin.AccountID})">S·ª≠a</button>
                <button class="btn btn-danger" onclick="confirmDelete(${admin.AccountID})">X√≥a</button>
            </td>
        `;
        
        tbody.appendChild(row);
    });
    
    renderPagination();
}

// Render ph√¢n trang - GI·ªÆ NGUY√äN
function renderPagination() {
    const totalPages = Math.ceil(filteredAdmins.length / itemsPerPage);
    const pagination = document.getElementById('pagination');
    
    if (totalPages <= 1) {
        pagination.innerHTML = '';
        return;
    }
    
    let paginationHTML = '';
    
    // N√∫t Previous
    if (currentPage > 1) {
        paginationHTML += `<button class="page-btn" onclick="changePage(${currentPage - 1})"><i class="fas fa-chevron-left"></i></button>`;
    }
    
    // C√°c trang
    for (let i = 1; i <= totalPages; i++) {
        if (i === currentPage) {
            paginationHTML += `<button class="page-btn active">${i}</button>`;
        } else {
            paginationHTML += `<button class="page-btn" onclick="changePage(${i})">${i}</button>`;
        }
    }
    
    // N√∫t Next
    if (currentPage < totalPages) {
        paginationHTML += `<button class="page-btn" onclick="changePage(${currentPage + 1})"><i class="fas fa-chevron-right"></i></button>`;
    }
    
    pagination.innerHTML = paginationHTML;
}

// Chuy·ªÉn trang - GI·ªÆ NGUY√äN
function changePage(page) {
    currentPage = page;
    renderAdminsTable();
}

// T√¨m ki·∫øm admin - GI·ªÆ NGUY√äN
function searchAdmins() {
    const searchTerm = document.getElementById('searchInput').value.toLowerCase();
    
    if (searchTerm.trim() === '') {
        filteredAdmins = [...allAdmins];
    } else {
        filteredAdmins = allAdmins.filter(admin => 
            (admin.Username && admin.Username.toLowerCase().includes(searchTerm)) ||
            (admin.FullName && admin.FullName.toLowerCase().includes(searchTerm)) ||
            (admin.Email && admin.Email.toLowerCase().includes(searchTerm))
        );
    }
    
    currentPage = 1;
    renderAdminsTable();
}

// L·ªçc admin theo tr·∫°ng th√°i - GI·ªÆ NGUY√äN
function filterAdmins() {
    const statusFilter = document.getElementById('statusFilter').value;
    
    if (statusFilter === 'all') {
        filteredAdmins = [...allAdmins];
    } else if (statusFilter === 'active') {
        filteredAdmins = allAdmins.filter(admin => admin.Status);
    } else if (statusFilter === 'inactive') {
        filteredAdmins = allAdmins.filter(admin => !admin.Status);
    }
    
    currentPage = 1;
    renderAdminsTable();
}

// L√†m m·ªõi danh s√°ch - S·ª¨A
async function refreshAdmins() {
    await loadAdmins();
    await loadAdminStats();
}

// Hi·ªÉn th·ªã modal th√™m admin - GI·ªÆ NGUY√äN
function showAddAdminModal() {
    document.getElementById('modalTitle').textContent = 'Th√™m Admin M·ªõi';
    document.getElementById('adminForm').reset();
    document.getElementById('adminId').value = '';
    document.getElementById('password').required = true;
    document.getElementById('confirmPassword').required = true;
    document.getElementById('adminModal').style.display = 'block';
}

// Hi·ªÉn th·ªã modal s·ª≠a admin - S·ª¨A
async function editAdmin(accountId) {
    try {
        const response = await fetch(`/api/admin/${accountId}`, {
            credentials: 'include' // G·ª≠i cookies
        });
        
        if (!response.ok) throw new Error('L·ªói khi t·∫£i th√¥ng tin admin');
        
        const admin = await response.json();
        
        document.getElementById('modalTitle').textContent = 'S·ª≠a Th√¥ng Tin Admin';
        document.getElementById('adminId').value = admin.AccountID;
        document.getElementById('username').value = admin.Username;
        document.getElementById('username').disabled = true;
        document.getElementById('password').required = false;
        document.getElementById('confirmPassword').required = false;
        document.getElementById('fullName').value = admin.FullName || '';
        document.getElementById('email').value = admin.Email || '';
        document.getElementById('phone').value = admin.Phone || '';
        document.getElementById('isSuperAdmin').value = admin.IsSuperAdmin ? 'true' : 'false';
        document.getElementById('status').value = admin.Status ? 'true' : 'false';
        
        document.getElementById('adminModal').style.display = 'block';
        
    } catch (error) {
        console.error('‚ùå L·ªói khi t·∫£i th√¥ng tin admin:', error);
        alert('Kh√¥ng th·ªÉ t·∫£i th√¥ng tin admin');
    }
}

// ƒê√≥ng modal admin - GI·ªÆ NGUY√äN
function closeAdminModal() {
    document.getElementById('adminModal').style.display = 'none';
    document.getElementById('username').disabled = false;
}

// L∆∞u admin (th√™m/s·ª≠a) - S·ª¨A
async function saveAdmin(event) {
    event.preventDefault();
    
    const adminId = document.getElementById('adminId').value;
    const password = document.getElementById('password').value;
    const confirmPassword = document.getElementById('confirmPassword').value;
    
    // Ki·ªÉm tra m·∫≠t kh·∫©u khi th√™m m·ªõi
    if (!adminId && password !== confirmPassword) {
        alert('M·∫≠t kh·∫©u x√°c nh·∫≠n kh√¥ng kh·ªõp!');
        return;
    }
    
    const formData = {
        Username: document.getElementById('username').value,
        FullName: document.getElementById('fullName').value,
        Email: document.getElementById('email').value,
        Phone: document.getElementById('phone').value,
        IsSuperAdmin: document.getElementById('isSuperAdmin').value === 'true',
        Status: document.getElementById('status').value === 'true'
    };
    
    // Ch·ªâ th√™m m·∫≠t kh·∫©u n·∫øu c√≥ (khi th√™m m·ªõi ho·∫∑c ƒë·ªïi m·∫≠t kh·∫©u)
    if (password) {
        formData.Password = password;
    }
    
    try {
        const url = adminId ? `/api/admin/${adminId}` : '/api/admin';
        const method = adminId ? 'PUT' : 'POST';
        
        const response = await fetch(url, {
            method: method,
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(formData),
            credentials: 'include' // G·ª≠i cookies
        });
        
        if (!response.ok) {
            const errorData = await response.json();
            throw new Error(errorData.error || 'L·ªói khi l∆∞u admin');
        }
        
        const result = await response.json();
        console.log('‚úÖ Admin ƒë√£ ƒë∆∞·ª£c l∆∞u:', result);
        
        closeAdminModal();
        await refreshAdmins();
        alert(adminId ? 'C·∫≠p nh·∫≠t admin th√†nh c√¥ng!' : 'Th√™m admin m·ªõi th√†nh c√¥ng!');
        
    } catch (error) {
        console.error('‚ùå L·ªói khi l∆∞u admin:', error);
        alert('L·ªói khi l∆∞u admin: ' + error.message);
    }
}

// X√°c nh·∫≠n x√≥a admin - GI·ªÆ NGUY√äN
function confirmDelete(accountId) {
    adminToDelete = accountId;
    document.getElementById('confirmModal').style.display = 'block';
}

// ƒê√≥ng modal x√°c nh·∫≠n - GI·ªÆ NGUY√äN
function closeConfirmModal() {
    document.getElementById('confirmModal').style.display = 'none';
    adminToDelete = null;
}

// X√≥a admin - S·ª¨A
async function deleteAdmin() {
    if (!adminToDelete) return;
    
    try {
        const response = await fetch(`/api/admin/${adminToDelete}`, {
            method: 'DELETE',
            credentials: 'include' // G·ª≠i cookies
        });
        
        if (!response.ok) {
            const errorData = await response.json();
            throw new Error(errorData.error || 'L·ªói khi x√≥a admin');
        }
        
        console.log('‚úÖ Admin ƒë√£ ƒë∆∞·ª£c x√≥a');
        
        closeConfirmModal();
        await refreshAdmins();
        alert('X√≥a admin th√†nh c√¥ng!');
        
    } catch (error) {
        console.error('‚ùå L·ªói khi x√≥a admin:', error);
        alert('L·ªói khi x√≥a admin: ' + error.message);
    }
}

// G√°n s·ª± ki·ªán cho n√∫t x√°c nh·∫≠n x√≥a - GI·ªÆ NGUY√äN
document.getElementById('confirmDeleteBtn').addEventListener('click', deleteAdmin);

// H√†m ph·ª• tr·ª£ - GI·ªÆ NGUY√äN
function formatDate(dateString) {
    if (!dateString) return 'Ch∆∞a c√≥ ng√†y';
    const date = new Date(dateString);
    return date.toLocaleDateString('vi-VN');
}

// ƒê√≥ng modal khi click b√™n ngo√†i - GI·ªÆ NGUY√äN
window.onclick = function(event) {
    const adminModal = document.getElementById('adminModal');
    const confirmModal = document.getElementById('confirmModal');
    
    if (event.target === adminModal) {
        closeAdminModal();
    }
    
    if (event.target === confirmModal) {
        closeConfirmModal();
    }
}
</script>

</body>
</html>